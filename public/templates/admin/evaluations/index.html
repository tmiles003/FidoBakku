
<div class="row">
  <div class="col-md-8">
    <h1>Evaluation loops</h1>
  </div>
</div>

<div class="row">
  <div class="col-md-8">
    <div class="panel">
      <table class="table table-hover">
        <tr ng-repeat="loop in loops | orderBy: '-created_at'">
          <td>
            <a href="{{ loop.manage_path }}">{{ loop.title }}</a>
          </td>
          <!-- td>
            {{ loop.num_evaluations }}
          </td -->
          <td class="text-right fi-5pc">
            <button class="btn btn-default fi-btn-slim" ng-click="editLoop(loop)">
              <i class="fa fa-edit fa-lg"></i>
            </button>
            <button class="btn btn-default fi-btn-slim" ng-click="deleteConfirm(loop)">
              <i class="fa fa-trash-o fa-lg"></i>
            </button>
          </td>
        </tr>
      </table>
    </div>
  </div>

  <div class="col-md-3 col-md-offset-1">
    <div class="panel">
      <h4 ng-hide="eLoop.id">Add new loop</h4>
      <h4 ng-show="eLoop.id">Update loop</h4>
      <form accept-charset="utf-8" novalidate name="eLoopForm">
        <div class="form-group" ng-class="{ 'has-error': eLoopForm.loop_title.$invalid && submitted }">
          <label for="loop_title" class="sr-only">Title</label>
          <input name="loop_title" class="form-control" ng-model="eLoop.title" type="text"
            ng-required="true" ng-minlength="1" ng-maxlength="100" placeholder="Title">
          <p ng-show="eLoopForm.loop_title.$invalid && submitted" 
            class="help-block">A title must be set</p>
        </div>
        
        <div class="actions text-right">
          <input ng-click="saveLoop(eLoop, eLoopForm.$valid)" type="submit" value="Save"
            class="btn btn-default btn-success btn-sm fi-btn-wide">
          <button ng-click="clearForm()" class="btn btn-default btn-sm">
            <i class="fa fa-eraser fa-lg" tooltip="Clear form" 
                tooltip-placement="bottom" tooltip-popup-delay="250"></i></button>
        </div>
      </form>
    </div>
  </div>

</div>