<!-- h1>Form#edit</h1 -->

<div ng-repeat="topic in topics | orderBy: '+ordr'" class="row">
  
  <div class="panel panel-default">
    <div class="panel-heading">{{ topic.name }}
      <span style="float:right;">
        <button class="btn btn-default btn-xs" data-ng-click="moveTopicUp(topic)">Up</button>
        <button class="btn btn-default btn-xs" data-ng-click="moveTopicDown(topic)">Down</button>
        <button class="btn btn-default btn-xs" data-ng-click="editTopic(topic)">Edit</button>
        <button class="btn btn-default btn-xs" data-ng-click="deleteTopic(topic)">Delete</button>
      </span>
    </div>
    
    <ul class="list-group" ng-controller="BenchmarksCtrl">
    
      <li class="list-group-item" ng-repeat="benchmark in benchmarks | orderBy: '+ordr'">
        <div class="col-md-9">
          {{ benchmark.content }}
        </div>
        
        <div class="col-md-3 text-right">
          <button class="btn btn-default btn-xs" data-ng-click="moveBenchmarkUp(benchmark)">Up</button>
          <button class="btn btn-default btn-xs" data-ng-click="moveBenchmarkDown(benchmark)">Down</button>
          <button class="btn btn-default btn-xs" data-ng-click="editBenchmark(benchmark)">Edit</button>
          <button class="btn btn-default btn-xs" data-ng-click="deleteBenchmark(benchmark)">Delete</button>
        </div>
        <div style="clear:both;"></div>
      </li>
      
      <li class="list-group-item">
        <form accept-charset="utf-8" class="form-horizontal" novalidate name="editableBenchmarkForm">
          <input type="hidden" ng-model="editableBenchmark.id">
          
          <label for="benchmark_content" class="col-md-2 control-label">Question</label>
          
          <div class="col-md-9" ng-class="{ 'has-error': editableBenchmarkForm.benchmark_content.$invalid 
                && submitted }">
              <textarea class="form-control" name="benchmark_content" ng-model="editableBenchmark.content" 
                ng-required="true" ng-minlength="2" rows="2"></textarea>
              <p ng-show="editableBenchmarkForm.benchmark_content.$invalid && submitted" 
                  class="help-block">Content is required</p>
          </div>
          <div class="col-md-1">
            <button ng-click="saveBenchmark(editableBenchmark, editableBenchmarkForm.$valid)" type="button"
              class="btn btn-default btn-sm">Save</button>
          </div>
        </form>
        <div style="clear: both;"></div>
      </li>
      
    </ul>
  </div>

</div>

<div class="row">

  <form class="form-horizontal" accept-charset="utf-8" novalidate name="editableTopicForm">
    <input type="hidden" ng-model="editableTopic.id">
    
    <label for="topic_name" class="col-md-1 control-label">Topic</label>
    
    <div class="col-md-10" ng-class="{ 'has-error': editableTopicForm.topic_name.$invalid && submitted }">
      <input name="topic_name" class="form-control" ng-model="editableTopic.name" type="text"
        ng-required="true" ng-minlength="4" ng-maxlength="100">
      <p ng-show="editableTopicForm.topic_name.$invalid && submitted" 
        class="help-block">A topic is required</p>
    </div>
    <div class="cold-md-1">
      <button ng-click="saveTopic(editableTopic, editableTopicForm.$valid)" type="button"
        class="btn btn-default">Save</button>
    </div>

  </form>
  
</div>