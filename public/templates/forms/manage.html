<!-- h1>Form#edit</h1 -->
<div class="row">
  <div class="col-md-9">
    <h1>{{ form.name }}</h1>
    
    <p>Sections help text</p>
  </div>
</div>

<div class="row">
  <div class="col-md-9">
    <!-- sections first -->
    <div class="panel panel-default" ng-repeat="section in sections | orderBy: '+ordr'">
      <div class="panel-heading">{{ section.name }}
        <span class="pull-right">
          <button class="btn btn-default fi-btn-slim" ng-click="moveSectionUp(section)">
            <i class="fa fa-angle-up fa-lg"></i>
          </button>
          <button class="btn btn-default fi-btn-slim" ng-click="moveSectionDown(section)">
            <i class="fa fa-angle-down fa-lg"></i>
          </button>
          <button class="btn btn-default fi-btn-slim" ng-click="editSection(section)">
            <i class="fa fa-edit fa-lg"></i>
          </button>
          <button class="btn btn-default fi-btn-slim" ng-click="deleteSection(section)">
            <i class="fa fa-trash-o fa-lg"></i>
          </button>
        </span>
      </div>
      <!-- section benchmarks -->
      <div ng-include="'/templates/forms/manage_comps.html'">
      </div>
    </div>
    
    <!-- then the new/edit section form -->
    <div class="panel panel-default">
      <div class="panel-heading">
        <span ng-hide="eSection.id">Add section</span>
        <span ng-show="eSection.id">Update section</span>
      </div>
      <!-- div class="panel-body">
      </div -->
      <div class="fi-panel-inner">
      
      <form accept-charset="utf-8" novalidate name="eSectionForm">
        <input type="hidden" ng-model="eSection.id">
        
        <div class="form-group" ng-class="{ 'has-error': eSectionForm.section_name.$invalid && submitted }">
          <label for="section_name" class="sr-only">Section</label>
          <input name="section_name" class="form-control" ng-model="eSection.name" type="text"
            ng-required="true" ng-minlength="4" ng-maxlength="100" placeholder="Section">
          <p ng-show="eSectionForm.section_name.$invalid && submitted" 
            class="help-block">A section is required</p>
        </div>
        
        <div class="actions text-right">
          <button ng-click="saveSection(eSection, eSectionForm.$valid)" type="button"
            class="btn btn-default btn-success btn-sm fi-btn-wide">Save</button>
          <button ng-click="clearForm()" class="btn btn-default btn-sm">
            <i class="fa fa-eraser" tooltip="Clear form" 
              tooltip-placement="bottom" tooltip-popup-delay="1500"></i></button>
        </div>
      </form>
      
      </div>
    </div>
  </div>
  
  <div class="col-md-3">
    <!-- tabbed user lists -->
    <div class="panel panel-default">
      <div class="panel-heading">Users</div>
      <!-- div class="panel-body">
      </div -->
      <div class="fi-panel-inner" ng-controller="FormUserCtrl">
        <!-- filter with a drop-down. role/team -->
        <select name="user_role" ng-model="role" class="form-control" 
          ng-options="role.s as role.l for role in roles">
        </select>
        <hr>
        <button ng-repeat="user in users | orderBy: '+name' | filter: role" 
          form-user user="user" ng-click="updateFormAssignment(user.id)"
          type="button" class="btn btn-default btn-block fi-btn-short">{{ user.name }}</button>
      </div>
    </div>
  </div>
</div>
